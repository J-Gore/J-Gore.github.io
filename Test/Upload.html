<html>
    <header class="center-content">
        <title>UNiDATES // The worlds first fruit based daing site!</title>
        <span class="border">
        <img src="icons/logo.png" class="mainLogo"/>
    </span>
    </header>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(function() {
            $("#profilePicture").on('change', function(){
                var fileInput = document.getElementById('profilePicture');
                var file = fileInput.files[0];
                var formData = new FormData();
                formData.append('image', file);

                $.ajax({
                    type: "POST",
                    url: "https://api.imgur.com/3/image",
                    enctype: 'multipart/form-data',
                    processData: false, 
                    contentType: false,
                    beforeSend: function (xhr) {
                        xhr.setRequestHeader('Authorization', 'Client-Id 939dfa3b3fb5de4');
                    },
                    data: formData
                }).done(function(data){
                    
                    console.log(data);
                    $("#profileIcon").attr("src",data.data.link);
                    $("#uploadBtn").attr("hidden", "true");
                });
            });
        });
    </script>

    <style>
        img.profileIcon{
            width: 500px;
        }
        
        fieldset{
            border: none;
        }
        img.mainLogo{
            width:auto;
            padding:20px;
            max-height: 155px;
        }
        img.profileIcon{
            border-radius: 60px;
            box-shadow: 0 0 0 5px black inset;
        }
        .center-content{
            display: flex;
            justify-content: center;
        }

        .upload-btn-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }
    
        .btn {
            border: 2px solid gray;
            color: gray;
            background-color: white;
            padding: 8px 20px;
            border-radius: 8px;
            font-size: 20px;
            font-weight: bold;
        }

        .upload-btn-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 500px;
            height:100%;
            padding:0 auto;
        }

        body{
            background-color: #3a86ff;
        }

        div.matchme{
            display: flex;
            justify-content: center;
        }
        span.matchMeBtn{
            box-shadow: 0 0 0 3px #ff006e inset;
            background-color: #ff006e;
            color: #2D3142;

            border: 2px solid gray;
            padding: 8px 20px;
            border-radius: 8px;
            font-size: 50px;
            font-weight: bold;
            font-family: 'Roboto', sans-serif;
        }

        p{
            font-size: 50px;
            font-family: 'Roboto', sans-serif;
            color: #2D3142;
            margin:0;
        }
        .namedInput{
            padding: 20px;
            display: flex;
            align-content: center;
            justify-content: flex-start;
        }
        input.userInp{
            height: 50px;
            width:100%;
        }
        input.userInp:focus {
            border: 3px solid #555;
        }
    </style>
</head>

<div class="center-content">
    <div class="center-content">
    <body>
        <form id="uploadProfilePicture">
            <fieldset>
                <div class="upload-btn-wrapper">
                    <img src="icons/portrait-solid.svg" class="profileIcon" id="profileIcon">
                    <div class="center-content">
                        <button class="btn" id="uploadBtn">Upload a file</button>
                        <input type="file" name="myfile" id="profilePicture" name="profile" accept="image/png, image/jpeg" />
                    </div>
                </div>

                <div class="namedInput">
                    
                    <input class="userInp" type="text" name="nameInp" placeholder="Your Name">
                </div>

                <div class="matchme">
                    <a><span class="matchMeBtn">♥ Match Me ♥</span></a>
                </div>
            </fieldset>    
        </form>
    </body>
</div>
</div>
